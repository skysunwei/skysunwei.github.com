<html><head xmlns="http://www.w3.org/1999/xhtml"><style id="mceDefaultStyles" type="text/css">.mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}
</style><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link type="text/css" rel="stylesheet" href="http://q.blogbus.com/bbc-v6/js/tinymce_3.5.8/themes/advanced/skins/default/content.css"><link type="text/css" rel="stylesheet" href="http://q.blogbus.com/bbc-v6/css/editor_content.css"></head><body id="tinymce" class="mceContentBody " onload="window.parent.tinyMCE.get('content').onLoad.dispatch();" contenteditable="true" spellcheck="false" dir="ltr"><p>背景介绍：<a href="http://baike.baidu.com/view/120013.html?fromTaglist " target="_blank" data-mce-href="http://baike.baidu.com/view/120013.html?fromTaglist ">Smoke Test</a>，可以理解为系统基本功能测试，敏捷开发继续集成测试的首要环节；</p><p>&nbsp;</p><p>现象：</p><p>团队成员不遵守 “在系统基本功能测试“Smoke Test”运行失败之后，除非修复测试，否则不能继续提交工作代码”的规则，在测试失败后，继续提交并非用于修复测试的工作代码；</p><p>&nbsp;</p><p>方案一：大讨论统一思想；</p><p>Step 1: 团队成员表态，60% 的人选择了可以继续提交代码，不赞同上述规则；</p><p>Step 2: 分组辩论，在大家提出了部署分层的持续集成的解决方案之后，同意了上述规则；</p><p>Step 3: 赞同的童鞋们都签下了“卖身契”，感兴趣的可以到 <a href="http://www.kaixin001.com/photo/view.php?uid=167116&amp;pid=524460829#divtop" target="_blank" data-mce-href="http://www.kaixin001.com/photo/view.php?uid=167116&amp;pid=524460829#divtop">这里</a> 围观；</p><p>&nbsp;</p><p>方案二：5 Why from Lean；</p><p>Why 1: 为什么出现这种情况？</p><p>团队成员对于上述规则未能达到共识；</p><p>Why 2: 为什么在 basic practice 上没有共识？</p><p>1) 目前的 Smoke Test，不能帮助快速失败（<a href="http://en.wikipedia.org/wiki/Fail-fast" target="_blank" data-mce-href="http://en.wikipedia.org/wiki/Fail-fast">Fail Fast</a>），</p><p>&nbsp;&nbsp; &nbsp;不能获得及时反馈，修复之后再提交的价值不大；</p><p>2) 修复测试的时候，提交过程被阻塞，造成过多的未经验证工作代码被积压，</p><p>&nbsp;&nbsp; &nbsp;从而提高了在提交之后，测试出现失败查错的难度、回滚提交的风险，</p><p>&nbsp;&nbsp; &nbsp;行成闭环增量反馈；</p><p>Why 3:&nbsp;</p><p>1) 为什么 Smoke Test 不能起到应有的作用？</p><p>本应首先运行的 Smoke Test 被放置到最后运行，</p><p>并且测试与数据之间的耦合程度较高，测试涵盖了数据迁移等等额外职责；</p><p>2）为什么修复 Smoke Test 会造成大量提交的阻塞？</p><p>团队规模发展到 40 多人，分成了三个小组，在中国、印度两地分布式开发，</p><p>共用一个持续集成环境；大家需要频繁地提交工作代码；</p><p>Why 4: 为什么三个小组要用一个持续集成环境呢？</p><p>不一定，其中一个小组使用独立的持续集成环境已经有一段时间了，</p><p>本地的持续集成环境运行与小组内工作相关的测试；</p><p>开发过程中，小组内可以频繁的提交工作代码，及时得到反馈；</p><p>保证每天两次的频率向主持续集成环境提交，若测试为通过，通过小组内部沟通协调，</p><p>找到空闲资源及时修复测试；可以完全解决上述问题；</p><p>Why 5: 这个解决方案有什么潜在风险？</p><p>当小组提交到主持续集成环境出现问题，并且长时间不能修复的话，会再次造成提交阻塞；</p><p>会给负责验收测试的 QA 带来较大工作压力；</p><p><strong>…</strong></p><p>&nbsp;</p><p>规则和法律一样，都是对遵守它们的人的一种保护，是为守规则、守法的人服务的；但是随着时间的迁移，遵纪守法的人们也会发现难以适从；</p><p>这就是为什么在 2006 年的新刑法中对“正当防卫”的概念进行重新修订；试想下，就连“杀人有罪”这样的常识都会被被不断的补充、解释、界定；何况是团队内的规则呢；</p><p>当人为规则所累的时候，规则就是去了意义；</p><p>随着时间和场景的改变，任何已经存在的共识都有可能被打破，原有的任何知识都可能被颠覆！</p><p>当它们发生时，你做好准备迎接挑战了吗？</p><p>&nbsp;</p><p>是片面的追求认识的统一？能够迅速的解决表面问题，但是忽略隐藏问题，往往会引入新的问题；</p><p>还是 5 Why方法？能够一定程度上解决根本问题，要更多人参与讨论，了解问题背后更多事实；</p><p><br></p><p>关注问题是对的，更因该探索问题背后更深层次的问题；</p><p>强调规则是对的，更因该关注打破规则背后所隐藏的事实；</p><p>&nbsp;</p><p><span style="white-space: pre;" data-mce-style="white-space: pre;">抛砖新的</span>引玉，新的&nbsp;5 Why：</p><p>获得一组龙飞凤舞的签名和揭开大家心中的 5 个 Why 哪个更重要？</p><p>为什么只有大家都在嗟叹规则的被打破，而没有人问 Why？</p><p>为什么团队中本来就有好的实践，却没有能够推广呢？</p><p>分组是不是已经成为大团队持续改进的瓶颈？</p><p>集体 Retro 是否必要？</p><p><strong>…</strong></p><p>&nbsp;</p><p>PS：<a href="http://v.youku.com/v_show/id_XMjEyMDkxOTY4.html" target="_blank" data-mce-href="http://v.youku.com/v_show/id_XMjEyMDkxOTY4.html">Why</a> 的 “最高境界”！</p></body></html>